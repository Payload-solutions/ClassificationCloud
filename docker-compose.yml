version: "3.0"
volumes: 
    dbdata:
        driver: local
services:

    db:
        image: mysql
        command: '--default-authentication-plugin=mysql_native_password'
        restart: always
        environment:
            MYSQL_DATABASE: YogurtQuality
            MYSQL_USER: payload
            MYSQL_ROOT_PASSWORD: root
            MYSQL_PASSWORD: payload123
        volumes:
            - .dbdata:/var/lib/mysql
        ports:
            - 3306:3306

    backend:
        build:
            context: .
            dockerfile: Dockerfile
        ports:
            - 4000:4000
        volumes: 
            - .:/code
        depends_on:
            - db

    
